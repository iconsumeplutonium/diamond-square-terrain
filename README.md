
# Diamond-Square Terrain Generator
#### Description: A program that procedurally generates terrain using the Diamond-Square algorithm


#### Prerequisites
This program requires Python 3.6 or up. It utilizes the random and time libraries, both of which should already come preinstalled with Python. It also utilizes the PIL and tkinter libraries, both of which must be installed separately.

test.py is the only file in the program, which is responsible for handling everything in the program, from generating the terrain itself, to coloring it, to displaying the UI.

#### The Diamond-Square algorithm
https://en.wikipedia.org/wiki/Diamond-square_algorithm

The diamond-square algorithm is a special algorithm that generates terrain on a heightmap of size 2ⁿ + 1.
![An overview of the algorithm. ](https://upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Diamond_Square.svg/1920px-Diamond_Square.svg.png)

First, it takes the array and initializes each corner point to a random value. Next comes the diamond step, in which the value of the center of the square is calculated by taking the average of the 4 corners, plus a random offset. Then comes the square step, in which the midpoints of the sides of the square are calculated via the average of the values of the other points, plus another offset. For example, in the third image from the left, the value of the top middle point is equal to the average of the top right point, the top left point, and the middle point, plus a random offset. The diamond and square steps are then repeated until every point in the array has a value.

This algorithm is simple at its core, hence why it is popular. However, at large array sizes, it becomes pretty inefficient and slow.

#### test.py

![The program](https://cdn.discordapp.com/attachments/690652979036028929/838970063301640213/unknown.png)
Upon launching the program, you will be greeted by something like this. The image at the top is the terrain generated by the algorithm itself. Blue represents water, peach is sand, green is grass, gray is rocks/mountains, and white is snow/mountain peaks. Each image is generated uniquely, so you will get something different when running it. Sometimes you might get terrain that is all water or a few sparse islands, and other times you might get massive land masses with massive mountain ranges, filled with large snow-capped peaks.

The text below it will tell you how long it took to generate the map and image. In my case, it took 1.989 seconds to generate that image on my machine.

The "generate new map" button at the very bottom will generate a new map every time it is clicked.

(Gif sped up 3x to show terrain generation)
![New terrain generated at the push of a button. Sped up 3x for the purpose of showing the terrain.](https://cdn.discordapp.com/attachments/690652979036028929/839327224724848700/button2.gif)

There is also a slider in the application window called "Map Size" with a default value of 10. This means that the terrain being generated is 2¹⁰ + 1 on all sides, so 1,025 by 1,025. The slider allows the user to adjust the value between 1 (3 by 3) all the way till 20 (1,048,577 by  1,048,577).

Because the Diamond-Square algorithm generates terrain on a square map, the amount of time it takes to generate maps with successive map heights gets exponentially larger. For example, my laptop takes 0.5 seconds to generate terrain with a size of 9 (513 by 513), about 2 seconds for 10 (1,025 by 1,025), about 8 seconds for 11 (2,049 by 2,049), and about 2 minutes for 12 (4,097 by 4,097). This is one of the trade-offs of using the Diamond-Square algorithm in actual programs: it is easy to implement, but highly inefficient, to the point where the program may stop responding entirely if run on a lower-end laptop or PC. I myself cannot run any values higher than about 13 (8,193 by 8,193) or 14 (16,385 by 16,385). However, I have capped the high end of the slider to be 20, for those who happen to have extra beefy PCs that can handle such calculations.
